---
import { Image } from "astro:assets";
import { formatClassTime } from "~/utils/formatClassTime";

type Props = {
  title: string;
  date: string;
  imageUrl: string;
  ticketsLink: string;
};

const { date, imageUrl, ticketsLink, title } = Astro.props;

const classMeetingTime = formatClassTime(new Date(date));
---

<a
  href={ticketsLink}
  target="_blank"
  class="block rounded overflow-hidden shadow-lg hover:shadow-xl transition-shadow"
>
  <span class="sr-only">{title}</span>
  <p
    class="bg-violet-500 text-center py-2 text-white text-lg border-b-4 border-pink-300"
  >
    {classMeetingTime}
  </p>
  {
    imageUrl ? (
      <Image
        src={imageUrl}
        alt={title}
        width="576"
        height="324"
        class="w-full"
      />
    ) : (
      <div class="w-full h-[324px] grid place-items-center bg-gradient-to-br from-violet-600 to-indigo-400">
        <p class="text-3xl text-white font-bold">{title}</p>
      </div>
    )
  }
  <p class="text-right bg-red-100 p-2 text-red-700 uppercase">Register</p>
</a>
