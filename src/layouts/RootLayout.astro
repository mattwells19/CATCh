---
import { SEOMetadata } from "astro-seo-metadata";
import LaughingDotImage from "../images/laughing-dot.png";
import Header from "~/components/Header/Header.astro";
import Footer from "~/components/Footer/Footer.astro";
import "~/styles/custom-rules.scss";

type Props = {
  layoutClass?: string;
};

const { layoutClass } = Astro.props;

const GTM_ID = "GTM-WQRTM3H3";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <SEOMetadata
      siteName="Comedy Arts Theater of Charlotte"
      title="Improv Shows & Classes in Charlotte | CATCh"
      description="Join us at CATCh for Charlotte's best improv comedy shows & improv classes. $10 shows most Friday and Saturday nights!"
      image={LaughingDotImage.src}
      favicon="/favicon.ico"
      astroSitemap
      canonicalUrl={Astro.url.toString()}
      type="website"
      astroGenerator
    />

    <!-- Google Tag Manager -->
    <script
      async
      src={`https://www.googletagmanager.com/gtag/js?id=${GTM_ID}`}
      is:inline
    >
      // _
    </script>

    <script is:inline define:vars={{ id: GTM_ID }}>
      (() => {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag("js", new Date());
        gtag("config", id);
      })();
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <Header />
    <main class={layoutClass}>
      <slot />
    </main>
    <Footer />
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe
        src={`https://www.googletagmanager.com/ns.html?id=${GTM_ID}`}
        height="0"
        width="0"
        style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
  </body>
</html>
